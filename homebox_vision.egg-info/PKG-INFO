Metadata-Version: 2.4
Name: homebox-vision
Version: 0.6.0
Summary: AI-powered companion app for Homebox - detect and catalog household items from photos
License: MIT
Project-URL: Repository, https://github.com/yourusername/homebox-vision
Project-URL: Documentation, https://github.com/yourusername/homebox-vision#readme
Keywords: homebox,inventory,ai,vision,openai,home-inventory
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Web Environment
Classifier: Framework :: FastAPI
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Home Automation
Requires-Python: >=3.12
Description-Content-Type: text/markdown
Requires-Dist: openai>=2.8.1
Requires-Dist: httpx>=0.27.0
Requires-Dist: fastapi>=0.115.0
Requires-Dist: uvicorn[standard]>=0.32.0
Requires-Dist: python-multipart>=0.0.17
Requires-Dist: loguru>=0.7.3

# Homebox Vision Companion

ğŸ ğŸ“¸ **AI-powered item detection for [Homebox](https://github.com/sysadminsmedia/homebox) inventory management.**

Take a photo of your stuff, and let AI identify and catalog items directly into your Homebox instance. Perfect for quickly inventorying a room, shelf, or collection.

## Features

- ğŸ“· **Photo-based Detection** â€“ Upload or capture photos of items
- ğŸ¤– **AI Vision Analysis** â€“ Uses OpenAI GPT-4o to identify items in images
- ğŸ·ï¸ **Smart Labeling** â€“ Automatically suggests labels from your Homebox labels
- ğŸ“ **Location Selection** â€“ Choose where to store detected items
- âœï¸ **Review & Edit** â€“ Edit AI suggestions before saving
- ğŸ“± **Mobile-First UI** â€“ Designed for phones (works on desktop too)

## Quick Start

### Prerequisites

- Python 3.12+
- [uv](https://docs.astral.sh/uv/) (recommended) or pip
- An OpenAI API key ([get one here](https://platform.openai.com/api-keys))
- A Homebox instance (or use the demo server)

### Installation

```bash
# Clone the repository
git clone https://github.com/yourusername/homebox-vision.git
cd homebox-vision

# Create virtual environment and install dependencies
uv venv
uv sync

# Or with pip
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
pip install -e .
```

### Configuration

Set the required environment variables:

```bash
# Required: Your OpenAI API key
export HOMEBOX_VISION_OPENAI_API_KEY="sk-your-api-key-here"

# Required: Your Homebox API URL
export HOMEBOX_VISION_API_URL="https://your-homebox.example.com/api/v1"

# Optional: OpenAI model (default: gpt-5-mini)
export HOMEBOX_VISION_OPENAI_MODEL="gpt-5-mini"

# Optional: Server configuration
export HOMEBOX_VISION_SERVER_HOST="0.0.0.0"
export HOMEBOX_VISION_SERVER_PORT="8000"

# Optional: Log level (DEBUG, INFO, WARNING, ERROR)
export HOMEBOX_VISION_LOG_LEVEL="INFO"
```

On Windows (PowerShell):
```powershell
$env:HOMEBOX_VISION_OPENAI_API_KEY = "sk-your-api-key-here"
$env:HOMEBOX_VISION_API_URL = "https://your-homebox.example.com/api/v1"
```

### Running the App

```bash
# Using uv
uv run python -m server.main

# Or with the CLI command (after pip install -e .)
homebox-vision

# Or with uvicorn directly
uv run uvicorn server.main:app --reload --host 0.0.0.0 --port 8000
```

Open `http://localhost:8000` in your browser.

## Environment Variables Reference

All environment variables use the `HOMEBOX_VISION_` prefix to avoid conflicts with other applications.

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `HOMEBOX_VISION_OPENAI_API_KEY` | âœ… Yes | - | Your OpenAI API key |
| `HOMEBOX_VISION_API_URL` | âœ… Yes | Demo server | Your Homebox API URL |
| `HOMEBOX_VISION_OPENAI_MODEL` | No | `gpt-5-mini` | OpenAI model for vision |
| `HOMEBOX_VISION_SERVER_HOST` | No | `0.0.0.0` | Server bind address |
| `HOMEBOX_VISION_SERVER_PORT` | No | `8000` | Server port |
| `HOMEBOX_VISION_LOG_LEVEL` | No | `INFO` | Logging level |

## Usage

1. **Login** â€“ Enter your Homebox credentials
2. **Select Location** â€“ Choose where items will be stored
3. **Capture/Upload Photo** â€“ Take or upload a photo of items
4. **Review Detection** â€“ AI identifies items in the image
5. **Edit & Confirm** â€“ Adjust names, quantities, labels as needed
6. **Save to Homebox** â€“ Items are created in your inventory

## Using with Demo Server

For testing, you can use the Homebox demo server:

```bash
export HOMEBOX_VISION_API_URL="https://demo.homebox.software/api/v1"
```

Demo credentials: `demo@example.com` / `demo`

## Development

### Linting

```bash
uv run ruff check .
uv run ruff format .
```

### Testing

```bash
# Run unit tests
uv run pytest

# Run integration tests (requires API keys)
uv run pytest -m integration
```

### Project Structure

```
homebox-vision/
â”œâ”€â”€ homebox_vision/          # Core library
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ client.py            # Homebox API client
â”‚   â”œâ”€â”€ config.py            # Configuration management
â”‚   â”œâ”€â”€ llm.py               # OpenAI vision integration
â”‚   â””â”€â”€ models.py            # Data models
â”œâ”€â”€ server/                   # FastAPI web app
â”‚   â”œâ”€â”€ main.py              # API routes
â”‚   â””â”€â”€ static/              # Frontend files
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ app.js
â”‚       â””â”€â”€ styles.css
â”œâ”€â”€ tests/                    # Test suite
â”œâ”€â”€ pyproject.toml           # Project configuration
â””â”€â”€ README.md
```

## Library Usage

The `homebox_vision` package can also be used as a library:

```python
from homebox_vision import HomeboxClient, detect_items_with_openai
from pathlib import Path

# Detect items in an image
items = detect_items_with_openai(Path("photo.jpg"))

# Create items in Homebox
with HomeboxClient(base_url="https://your-homebox/api/v1") as client:
    token = client.login("user@example.com", "password")
    locations = client.list_locations(token)
    
    for item in items:
        item.location_id = locations[0]["id"]
        client.create_item(token, item)
```

## Contributing

Contributions are welcome! Please ensure:

1. Code passes `ruff check .`
2. Tests pass with `pytest`
3. Increment version in `pyproject.toml`

## License

MIT License - see LICENSE file for details.

## Acknowledgments

- [Homebox](https://github.com/sysadminsmedia/homebox) - The excellent home inventory system this companion is built for
- [OpenAI](https://openai.com) - For the vision AI capabilities
- [FastAPI](https://fastapi.tiangolo.com) - The modern Python web framework
